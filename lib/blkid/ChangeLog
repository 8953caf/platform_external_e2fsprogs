2003-02-16  Theodore Ts'o  <tytso@mit.edu>

	* blkid.h, dev.c, devname.c, probe.c, read.c, resolve.c: Rename
		blkid_get_devname() to blkid_get_dev().  Also rename
		blkid_get_token() to blkid_get_devname().  This more
		accurately describes what these functions do.

2003-02-14  Theodore Ts'o  <tytso@mit.edu>

	* blkidP.h, devname.c (blkid_get_devname), read.c (parse_tag),
		save.c (save_dev): Remove bid_id, as it is not used for
		anything.

	* Makefile.in (blkid): When building the blkid, don't link against
		the shared blkid library; link only against the static
		blkid library.

	* blkidP.h (struct blkid_struct_dev): Remove bid_size and
		bid_devsize (since they aren't used any more) and add
		bid_pri to the device structure.

	* devname.c (probe_one, lvm_probe_all, evms_probe_all,
		blkid_probe_all): Set the bid_pri filed in the device
		structure depending on type of device so that EVMS, LVM,
		and MD devices get priority over normal devices.

	* tag.c (blkid_find_dev_with_tag): When looking for a device that
		matches the search criteria, return the one with the
		largest priority (bid_pri).

	* save.c (save_dev): Write out the PRI tag from bid_pri.

	* read.c (parse_tag): Parse the PRI tag and store its value in
		bid_pri.

	* probe.c (blkid_verify_devname): If the device does not exist
		(open returns ENOENT), treat this as a fatal error and
		release the device.  After verifying the device, set the
		cache as being modified so the changes are written out.

	* resolve.c (main): Change the test driver to get a blkid cache
		and pass it to blkid_get_tagname_devname and
		blkid_get_token, as the cache is no longer optional.

2003-02-12  Theodore Ts'o  <tytso@mit.edu>

	* blkid.h, blkidP.h, cache.c, dev.c, devname.c, devno.c, probe.c,
		probe.h, read.c, resolve.c, save.c, tag.c: Wholesale
		changes to library to simplify the implementation and
		shrink its size.  Change library version to be 1.0.

2003-01-27  Theodore Ts'o  <tytso@mit.edu>

	* read.c (parse_tag): Do not return that blkid_tag when parsing
		the blkid.tag file.

	* resolve.c (blkid_get_token, blkid_get_tagname_devname): Fold in
		code from removed functions

	* tag.c (blkid_create_tag): Don't return the newly tag strcture
		any more, as it's not needed.
		(blkid_find_tag_cache, blkid_get_tag_cache,
		 blkid_token_to_tag, blkid_find_tv_tags): Remove these 
		functions, as they are either only used once or have
		interfaces that should be deprecated.
		(blkid_find_tag_dev, blkid_find_head_cache): Replace use
		of blkid_tag with one or two const char * type/value
		arguments.
		(blkid_find_dev_with_tag): Fold in code from removed functions

	* probe.h, probe.c: Use a more sophisticated set of byte-swapping
		routines which are more compact and efficient.  Drop
		calculation of bid_free, since it's unnecessary.  Avoid 

	* save.c (blkid_save_cache): Set the permissions on the blkid
		cache file to 644.
	
2003-01-25  Theodore Ts'o  <tytso@mit.edu>

	* cache.c, dev.c, devname.c, devno.c, getsize.c, llseek.c, 
		probe.c, probe.h, read.c, resolve.c, save.c, tag.c, 
		blkid.h, blkidP.h: Separate public and private
		interfaces into separate header files.  Start
		separating internal implementation details from the
		publically exported interface.

	* devname.c: Add support for EVMS

	* blkid.h, cache.c, dev.c, devname.c, devno.c, probe.c, probe.h,
		read.c, resolve.c, save.c, tag.c: Fix gcc -Wall nits.

2003-01-24  Theodore Ts'o  <tytso@mit.edu>

	* save.c (blkid_save_cache): Use mkstemp() instead mktemp().

2002-10-04  Jordan Breeding  <jordan.breeding@attbi.com>

	* Forward port to e2fsprogs 1.30

2001-09-20  Andreas Dilger  <adilger@turbolinux.com>

	* Initial release of libblkid.
